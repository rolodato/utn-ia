<!DOCTYPE html>
<html>
<head lang="es">
  <meta charset="UTF-8">
  <title>Algoritmos Genéticos</title>
  <style>
    form {
      padding: 20px;
    }
    input, label {
      display: block;
    }
    #result span {
      font-weight: bold;
      font-size: 150%;
    }
  </style>
</head>
<body>
<form id="form">
  <fieldset>
    <legend>Parámetros del algoritmo</legend>
    <p>
      <label for="populationSize">Tamaño de población</label>
      <input type="number" id="populationSize" name="populationSize" min="1"
             step="1" value="200">
    </p>
    <p>
      <label for="mutationProbability">Probabilidad de mutación (%)</label>
      <input type="number" id="mutationProbability"
             name="mutationProbability" min="0" max="100" step="1" value="1">
    </p>
    <p>
      <label for="selectionPercentage">Porcentaje de selección</label>
      <input type="number" id="selectionPercentage"
             name="selectionPercentage" min="0" max="100" step="1" value="80">
    </p>
    <p>
      <label for="iterationCount">Cantidad de iteraciones</label>
      <input type="number" id="iterationCount" name="iterationCount" min="1"
             step="1" value="10">
    </p>
    <p>
      <label for="maxInterval">Intervalo máximo entre arribo de
        colectivos (minutos)</label>
      <input type="number" id="maxInterval" name="maxInterval" min="1"
             step="1" value="60">
    </p>
  </fieldset>

  <fieldset>
    <legend>Parámetros de simulación</legend>
    <p>
      <label for="busCount">Cantidad de colectivos</label>
      <input type="number" id="busCount" name="busCount" min="1" step="1"
             value="10">
    </p>
    <p>
      <label for="seatsPerBus">Asientos por colectivo</label>
      <input type="number" id="seatsPerBus" name="seatsPerBus" min="1"
             step="1" value="30">
    </p>
    <p>
      <label for="standingPerBus">Capacidad para pasajeros parados</label>
      <input type="number" id="standingPerBus" name="standingPerBus" min="1"
             step="1" value="15">
    </p>
    <p>
      <label for="roundTripMins">Duración del viaje (minutos)</label>
      <input type="number" id="roundTripMins" name="roundTripMins" min="1"
             step="1" value="60">
    </p>
    <p>
      <label for="roundTripCost">Costo del viaje ($)</label>
      <input type="number" id="roundTripCost" name="roundTripCost" min="1"
             step="1" value="50">
    </p>
    <p>Pasajeros por hora por turno</p>
    <input type="number" id="paxMorning" name="paxMorning" min="1" step="1"
           value="500" placeholder="Mañana">
    <input type="number" id="paxAfternoon" name="paxAfternoon" min="1"
           step="1" value="300" placeholder="Tarde">
    <input type="number" id="paxNight" name="paxNight" min="1" step="1"
           value="200" placeholder="Noche">
  </fieldset>
  <p>
    <input type="submit" value="Simular" />
  </p>
</form>

<div id="result" style="display: none;">
  <p>Mejor resultado: <span id="best"></span></p>
  <p>Valor de aptitud: <span id="best-fitness"></span></p>

  <p>Mejor resultado (última población): <span id="last-best"></span></p>
  <p>Valor de aptitud: <span id="last-best-fitness"></span></p>

  <p>Evolución de aptitud promedio (CSV):</p>
  <textarea id="evolution" rows="5" cols="50"></textarea>
  <p>Aptitud de la población (CSV):</p>
  <textarea id="pop-fitness" rows="5" cols="50"></textarea>
</div>

<script src="bus-frequency-opt.js"></script>
<script>
window.onload = function () {
  buses.webapp.BusApp().main();
}
</script>
</body>
</html>
